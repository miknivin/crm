<div>
  <div class="grid grid-cols-6 gap-4">
    <div class="col-span-3">
      <h3 class="text-xl dark:text-gray-300 text-gray-700">Pipeline</h3>
    </div>
    <div class="col-span-3 flex justify-end items-center gap-2">
      <div class="join !bg-gray-500">
        <button class="btn join-item" (click)="openDialog()">
          <i class="fa-solid fa-plus"></i>
        </button>
        <button class="btn join-item"><i class="fa-solid fa-tag"></i></button>
        <button class="btn join-item text-red-500">
          <i class="fa-solid fa-trash"></i>
        </button>
      </div>
      <app-search-contacts></app-search-contacts>
    </div>
  </div>
  @if (pipelines.length > 0) {
    <app-table
      class="mt-3"
      [dataFromParent]="transformedPipelines"
      [isAvatar]="false"
      [dataToShow]="['name', 'notes', 'Stages']"
      [actions]="actions"
      (checkboxChange)="onCheckboxChange($event)"
    >
    </app-table>
  } @else if (pipelines.length === 0 && !isLoading) {
    <div class="text-center">
      <h1 class="text-gray-700 dark:text-gray-100 text-lg">
        There are no Pipelines
      </h1>
      <button
        (click)="openDialog()"
        type="button"
        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
      >
        Create
      </button>
    </div>
  }
  @if (isLoading) {
    <div class="flex justify-center items-center">
      <span class="loading loading-spinner loading-md text-primary-600"></span>
    </div>
  }
</div>
